<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>AWS MetaData - Spring Cloud AWS</title>
	<link rel="stylesheet" href="css/screen.css" type="text/css" media="screen" title="default" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"/>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"/>
</head>
<body> 

<div id="content" class="container">
	<img src="AWS_Logo_Web_200px.png" />
	<br/>
	<br/>
<!-- 
	<div class="alert alert-info" ><h3>This is the Blue version.</h3></div>

 -->
 
	<div class="alert alert-success" ><h3>This is the Green version.</h3></div>

	<div class="panel panel-default">
	  <!-- Default panel contents -->
	  <div class="panel-heading">
	  <h2>Instance Metadata</h2>
	  <p>(From the locally installed metadata service http://169.254.169.254/latest)</p></div>
		
		<table id="content-table" class="table table-hover">
		<tr>
			<th></th>
			<th>Metadata</th>
			<th>Value</th>
		</tr>
		<tr>
			<td>	<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
			Instance</td>
			<td>ID:<br/>Type:<br/>AMI:<br/>Action:</td>
			<td>
				<span th:text="${instanceMetadata?.instanceId?:'-NA-'}">-NA- (Not running on EC2 instance)</span><br/>
				<span th:text="${instanceMetadata?.instanceType?:'-NA-'}">-NA- (Not running on EC2 instance)</span><br/>
				<span th:text="${instanceMetadata?.amiId?:'-NA-'}">-NA- (Not running on EC2 instance)</span><br/>
				<span th:text="${instanceMetadata?.instanceAction?:'-NA-'}">-NA- (Not running on EC2 instance)</span><br/>
			</td>
		</tr>
		<tr>
			<td>
				<span class="glyphicon glyphicon-home" aria-hidden="true"></span>
				Local
			</td>
			<td>IP:<br/>Hostname:<br/></td>
			<td>
				<span th:text="${instanceMetadata?.localIpv4?:'-NA-'}">-NA- (Not running on EC2 instance)</span><br/>
				<span th:text="${instanceMetadata?.localHostname?:'-NA-'}">-NA- (Not running on EC2 instance)</span>
			</td>
		</tr>
		<tr>
			<td>
				<span class="glyphicon glyphicon-cloud" aria-hidden="true"></span>
				Public
			</td>
			<td>IP:<br/>Hostname:<br/></td>
			<td>
				<span th:text="${instanceMetadata?.publicIpv4?:'-NA-'}">-NA- </span><br/>
				<span th:text="${instanceMetadata?.publicHostname?:'-NA-'}">-NA- </span>
			</td>
		</tr>
		<tr>
			<td>
				<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
				Hostname
			</td>
			<td/>
			<td>
				<span th:text="${instanceMetadata?.hostname?:'-NA-'}">-NA- </span>
			</td>
		</tr>
		<tr>
			<td>
				<span class="glyphicon glyphicon-tag" aria-hidden="true"></span>
				mac
			</td>
			<td/>
			<td>
				<span th:text="${instanceMetadata?.mac?:'-NA-'}">-NA- </span>
			</td>
		</tr>
		<tr>
			<td>	<span class="glyphicon glyphicon-leaf" aria-hidden="true"></span>
			Reservation ID</td>
			<td/>
			<td>
				<span th:text="${instanceMetadata?.reservationId?:'-NA-'}">-NA- </span>
			</td>
		</tr>
		<tr>
			<td>
				<span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
				Security Groups
			</td>
			<td/>
			<td>
				<span th:text="${instanceMetadata?.securityGroups?:'-NA-'}">-NA- </span>
			</td>
		</tr>
		<tr>
			<td>
				<span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span>
				Placement
			</td>
			<td>Availability Zone</td>
			<td><span th:text="${instanceMetadata?.availabilityZone?:'-NA-'}">-NA-</span></td>
		</tr>
		</table>
	</div>
	<a href="/actuator" class="btn btn-success btn-sm"><span class="glyphicon glyphicon-leaf" aria-hidden="true"/> Spring Actuator</a>
	<a href="/kill"  class="btn btn-danger btn-sm">Kill</a>
</div>
 
</body>
</html>